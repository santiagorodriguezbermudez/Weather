!function(e){var t={};function n(i){if(t[i])return t[i].exports;var o=t[i]={i:i,l:!1,exports:{}};return e[i].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=e,n.c=t,n.d=function(e,t,i){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(i,o,function(t){return e[t]}.bind(null,o));return i},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=0)}([function(e,t,n){"use strict";n.r(t);var i=(e,t,n,i,o,r,m,c)=>({city:e,country:t,weather:n,wind:i,main:o,sunrise:r,sunset:m,timezone:c});var o={getCurrentWeather:e=>new Promise((t,n)=>{fetch(`https://api.openweathermap.org/data/2.5/weather?q=${e}&units=metric&APPID=5ae86f35f8276d45d3067884b221401b`,{mode:"cors"}).then(e=>e.json()).then(e=>{if(200===e.cod){const n=i(e.name,e.sys.country,e.weather,e.wind.speed,e.main,e.sys.sunrise,e.sys.sunset,e.timezone);t(n)}else n()})})};var r=(()=>{const e=(e,t,n)=>{const i=document.getElementById(n).innerHTML,o=e(parseFloat(i.slice(0,5),10));document.getElementById(n).innerHTML=`${o}${t}`};return{printApi:e=>{let t=new Date(1e3*(e.sunrise+e.timezone)),n=new Date(1e3*(e.sunset+e.timezone));const i=e.main.feels_like+"   °C",o=e.main.temp_max+"   °C",r=e.main.temp_min+"   °C";t=t.toUTCString(),n=n.toUTCString(),t=t.toString().slice(0,22),n=n.toString().slice(0,22),document.getElementById("city").innerHTML=e.city,document.getElementById("temp").innerHTML=e.main.temp+"  °C",document.getElementById("icon").src=`http://openweathermap.org/img/wn/${e.weather[0].icon}@4x.png`,document.getElementById("weather").innerHTML=`${e.weather[0].main} - ${e.weather[0].description}`,document.getElementById("sunrise").innerHTML=t,document.getElementById("sunset").innerHTML=n,document.getElementById("temp-feel").innerHTML=i,document.getElementById("temp-max").innerHTML=o,document.getElementById("temp-min").innerHTML=r,document.getElementById("wind").innerHTML=e.wind,document.getElementById("imperial").className="red-btn",document.getElementById("metric").className="green-btn"},error:e=>{alert(e)},toogleAnimation:()=>{document.getElementById("city-input").classList.toggle("input-animation"),document.getElementById("submit-check").classList.toggle("input-animation"),document.getElementById("city-input").classList.toggle("hidden"),document.getElementById("submit-check").classList.toggle("hidden"),document.getElementById("check-city").classList.toggle("hidden")},printImage:e=>{const t=document.createElement("img");t.src=e,t.className+="image",(e=>{for(;e.firstChild;)e.removeChild(e.firstChild)})(document.getElementById("image")),document.getElementById("image").append(t)},toogleUnitButton:()=>{const e=document.getElementById("imperial"),t=document.getElementById("metric");e.classList.toggle("red-btn"),e.classList.toggle("green-btn"),t.classList.toggle("red-btn"),t.classList.toggle("green-btn")},changeTempUnit:(t,n)=>{e(t,n,"temp"),e(t,n,"temp-feel"),e(t,n,"temp-max"),e(t,n,"temp-min")}}})();var m={getImage:e=>new Promise((t,n)=>{const i=e.weather[0].main,o=e.city;fetch(`https://source.unsplash.com/1600x900/?sky,${i},${o}`,{mode:"cors"}).then(e=>{e.url?t(e.url):n()})})};var c=(()=>{const e=e=>{o.getCurrentWeather(e).then(e=>{r.printApi(e),m.getImage(e).then(e=>{r.printImage(e)})}).catch(()=>{r.error("Location not found!")})},t=()=>{r.toogleAnimation()};return{startWeatherApp:()=>{e("bogota")},switchtoFarenheit:()=>{if(document.getElementById("imperial").className.includes("red")){r.toogleUnitButton();const e=e=>(1.8*e+32).toPrecision(4);r.changeTempUnit(e,"   °F")}},switchtoCelsius:()=>{if(document.getElementById("metric").className.includes("red")){r.toogleUnitButton();const e=e=>(5/9*(e-32)).toPrecision(4);r.changeTempUnit(e,"   °C")}},getData:()=>{const n=document.getElementById("city-input").value.trim();""===n?r.error("Error: Please enter a valid city"):(t(),e(n))},toogleAnimation:t}})();window.onload=()=>{c.startWeatherApp()},window.displaySearch=()=>{c.toogleAnimation()},window.getCity=()=>{c.getData()},window.switchToImperial=()=>{c.switchtoFarenheit()},window.switchToMetric=()=>{c.switchtoCelsius()}}]);